<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KEW.PS Store Forms - G-VET System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .form-container { box-shadow: none; border: 2px solid #000; page-break-after: always; }
            .form-header { background: white !important; color: black !important; border-bottom: 3px double #000; }
        }
        .signature-box { border-bottom: 1px solid #000; min-height: 60px; }
        .gov-seal { width: 80px; height: 80px; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-gradient-to-r from-green-900 to-green-700 text-white shadow-lg no-print">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-box text-3xl"></i>
                    <div>
                        <h1 class="text-2xl font-bold">KEW.PS Store Forms</h1>
                        <p class="text-sm text-green-200">Printable Store Management Forms - Jabatan Veterinar Perak</p>
                    </div>
                </div>
                <button onclick="window.history.back()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg">
                    <i class="fas fa-arrow-left mr-2"></i>Back
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- Form Selection -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8 no-print">
            <h2 class="text-xl font-bold text-gray-900 mb-4">Select Store Form</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <button onclick="showForm('kewps1')" class="p-4 bg-green-50 hover:bg-green-100 rounded-lg border-2 border-green-200">
                    <i class="fas fa-download text-green-600 text-2xl mb-2"></i>
                    <p class="font-bold text-sm">KEW.PS-1</p>
                    <p class="text-xs text-gray-600">Store Receipt</p>
                </button>
                <button onclick="showForm('kewps3')" class="p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border-2 border-blue-200">
                    <i class="fas fa-clipboard-check text-blue-600 text-2xl mb-2"></i>
                    <p class="font-bold text-sm">KEW.PS-3</p>
                    <p class="text-xs text-gray-600">Stock Card</p>
                </button>
                <button onclick="showForm('kewps7')" class="p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border-2 border-orange-200">
                    <i class="fas fa-upload text-orange-600 text-2xl mb-2"></i>
                    <p class="font-bold text-sm">KEW.PS-7</p>
                    <p class="text-xs text-gray-600">Issue Voucher</p>
                </button>
                <button onclick="window.print()" class="p-4 bg-gray-100 hover:bg-gray-200 rounded-lg border-2 border-gray-300">
                    <i class="fas fa-print text-gray-700 text-2xl mb-2"></i>
                    <p class="font-bold text-sm">Print All</p>
                    <p class="text-xs text-gray-600">Print Forms</p>
                </button>
            </div>
        </div>

        <!-- Instructions -->
        <div class="bg-green-50 border-l-4 border-green-400 p-6 mb-8 no-print">
            <div class="flex items-start">
                <i class="fas fa-book text-green-600 text-2xl mr-4 mt-1"></i>
                <div>
                    <h3 class="font-bold text-gray-900 mb-2">ðŸ“– KEW.PS Forms Instructions</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <h4 class="font-bold text-green-800 mb-2">Receipt Process (KEW.PS-1):</h4>
                            <ol class="list-decimal list-inside space-y-1 text-gray-700">
                                <li>Verify delivery note against purchase order</li>
                                <li>Inspect goods for quality and quantity</li>
                                <li>Complete KEW.PS-1 form</li>
                                <li>Update stock cards (KEW.PS-3)</li>
                                <li>File with supporting documents</li>
                            </ol>
                        </div>
                        <div>
                            <h4 class="font-bold text-green-800 mb-2">Issuance Process (KEW.PS-7):</h4>
                            <ol class="list-decimal list-inside space-y-1 text-gray-700">
                                <li>Receive approved requisition</li>
                                <li>Check stock availability</li>
                                <li>Prepare items for issuance</li>
                                <li>Complete KEW.PS-7 voucher</li>
                                <li>Obtain recipient signature</li>
                                <li>Update stock records</li>
                            </ol>
                        </div>
                    </div>
                    <div class="mt-4 p-3 bg-white rounded-lg">
                        <p class="text-xs text-gray-600">
                            <strong><i class="fas fa-exclamation-triangle text-yellow-600"></i> Important:</strong> 
                            All store transactions must be recorded immediately. Monthly stock verification required. Maintain proper segregation of duties.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- KEW.PS-1: Store Receipt -->
        <div id="kewps1" class="form-container bg-white rounded-xl shadow-lg p-8 mb-8" style="display: none;">
            <div class="form-header border-b-4 border-green-900 pb-4 mb-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="gov-seal bg-green-900 rounded-full flex items-center justify-center">
                            <i class="fas fa-landmark text-white text-3xl"></i>
                        </div>
                        <div>
                            <p class="text-xs text-gray-600">KERAJAAN MALAYSIA</p>
                            <h2 class="text-2xl font-bold text-green-900">KEW.PS-1</h2>
                            <p class="text-sm text-gray-700">BAUCAR PENERIMAAN STOR</p>
                            <p class="text-xs text-gray-500">(Store Receipt Voucher)</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-xs text-gray-600">No. Baucar / Voucher No:</p>
                        <input type="text" class="border-2 border-gray-400 text-right w-40 px-2 py-1 font-bold" placeholder="PS1-______">
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-6 mb-6">
                <div>
                    <p class="text-sm font-bold mb-2">Jabatan / Department:</p>
                    <input type="text" class="w-full border-b-2 border-gray-300 px-2 py-1" value="Jabatan Perkhidmatan Veterinar Negeri Perak">
                </div>
                <div>
                    <p class="text-sm font-bold mb-2">Stor / Store:</p>
                    <select class="w-full border-2 border-gray-300 rounded px-2 py-1">
                        <option>-- Pilih Stor --</option>
                        <option>Stor Utama / Main Store</option>
                        <option>Stor Unit Kambing</option>
                        <option>Stor Unit Lembu</option>
                        <option>Stor Unit Kesihatan</option>
                        <option>Stor Unit RnD</option>
                    </select>
                </div>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-6">
                <div>
                    <p class="text-sm font-bold mb-2">Tarikh Terima / Date Received:</p>
                    <input type="date" class="border-2 border-gray-300 rounded px-3 py-2 w-full">
                </div>
                <div>
                    <p class="text-sm font-bold mb-2">No. Pesanan / Order No:</p>
                    <input type="text" class="border-2 border-gray-300 rounded px-3 py-2 w-full">
                </div>
                <div>
                    <p class="text-sm font-bold mb-2">Pembekal / Supplier:</p>
                    <input type="text" class="border-2 border-gray-300 rounded px-3 py-2 w-full">
                </div>
            </div>

            <table class="w-full border-2 border-gray-800 mb-6">
                <thead class="bg-green-900 text-white">
                    <tr>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Bil</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Kod Barang<br>Item Code</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Perihal<br>Description</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Unit</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Kuantiti<br>Quantity</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Harga/Unit<br>Price/Unit (RM)</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Jumlah<br>Total (RM)</th>
                        <th class="border border-gray-300 px-2 py-2 text-xs">Lokasi Stor<br>Store Location</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="hover:bg-gray-50">
                        <td class="border border-gray-300 px-2 py-3 text-center">1</td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-20 outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" class="w-full outline-none text-center"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" step="0.01" class="w-full outline-none text-right"></td>
                        <td class="border border-gray-300 px-2 py-3 bg-gray-50"><input type="number" step="0.01" class="w-full outline-none text-right bg-gray-50" readonly></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td class="border border-gray-300 px-2 py-3 text-center">2</td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-20 outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" class="w-full outline-none text-center"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" step="0.01" class="w-full outline-none text-right"></td>
                        <td class="border border-gray-300 px-2 py-3 bg-gray-50"><input type="number" step="0.01" class="w-full outline-none text-right bg-gray-50" readonly></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td class="border border-gray-300 px-2 py-3 text-center">3</td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-20 outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" class="w-full outline-none text-center"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" step="0.01" class="w-full outline-none text-right"></td>
                        <td class="border border-gray-300 px-2 py-3 bg-gray-50"><input type="number" step="0.01" class="w-full outline-none text-right bg-gray-50" readonly></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td class="border border-gray-300 px-2 py-3 text-center">4</td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-20 outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" class="w-full outline-none text-center"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" step="0.01" class="w-full outline-none text-right"></td>
                        <td class="border border-gray-300 px-2 py-3 bg-gray-50"><input type="number" step="0.01" class="w-full outline-none text-right bg-gray-50" readonly></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td class="border border-gray-300 px-2 py-3 text-center">5</td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-20 outline-none"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" class="w-full outline-none text-center"></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="number" step="0.01" class="w-full outline-none text-right"></td>
                        <td class="border border-gray-300 px-2 py-3 bg-gray-50"><input type="number" step="0.01" class="w-full outline-none text-right bg-gray-50" readonly></td>
                        <td class="border border-gray-300 px-2 py-3"><input type="text" class="w-full outline-none"></td>
                    </tr>
                    <tr class="bg-green-100 font-bold">
                        <td colspan="6" class="border border-gray-300 px-2 py-2 text-right">JUMLAH KESELURUHAN / GRAND TOTAL:</td>
                        <td class="border border-gray-300 px-2 py-2 text-right"><input type="number" step="0.01" class="w-full outline-none text-right bg-green-100 font-bold" readonly></td>
                        <td class="border border-gray-300 px-2 py-2"></td>
                    </tr>
                </tbody>
            </table>

            <div class="mb-6 p-4 bg-yellow-50 border border-yellow-300 rounded">
                <p class="text-sm font-bold mb-2">Catatan / Remarks:</p>
                <textarea class="w-full border-2 border-gray-300 rounded p-2 h-20" placeholder="Catatan tambahan jika perlu..."></textarea>
            </div>

            <div class="grid grid-cols-3 gap-6">
                <div>
                    <p class="text-sm font-bold mb-2">Diterima Oleh / Received By:</p>
                    <div class="signature-box mb-2"></div>
                    <input type="text" class="w-full border-b border-gray-300 px-2 text-sm" placeholder="Nama / Name">
                    <input type="text" class="w-full border-b border-gray-300 px-2 text-sm mt-1" placeholder="No. Kad Pengenalan / IC No.">
                    <p class="text-xs text-gray-600 mt-1">Tarikh / Date: <input type="date" class="border-b border-gray-300"></p>
                </div>
                <div>
                    <p class="text-sm font-bold mb-2">Disemak Oleh / Verified By:</p>
                    <div class="signature-box mb-2"></div>
                    <input type="text" class="w-full border-b border-gray-300 px-2 text-sm" placeholder="Penyelia Stor / Store Supervisor">
                    <input type="text" class="w-full border-b border-gray-300 px-2 text-sm mt-1" placeholder="Jawatan / Position">
                    <p class="text-xs text-gray-600 mt-1">Tarikh / Date: <input type="date" class="border-b border-gray-300"></p>
                </div>
                <div>
                    <p class="text-sm font-bold mb-2">Diluluskan Oleh / Approved By:</p>
                    <div class="signature-box mb-2"></div>
                    <input type="text" class="w-full border-b border-gray-300 px-2 text-sm" placeholder="Pengurus Stor / Store Manager">
                    <input type="text" class="w-full border-b border-gray-300 px-2 text-sm mt-1" placeholder="Jawatan / Position">
                    <p class="text-xs text-gray-600 mt-1">Tarikh / Date: <input type="date" class="border-b border-gray-300"></p>
                </div>
            </div>

            <div class="border-t-2 border-gray-300 pt-4 mt-6">
                <p class="text-xs text-gray-600 text-center">
                    <i class="fas fa-shield-alt mr-1"></i>
                    Borang ini adalah dokumen rasmi kerajaan dan tertakluk kepada Akta Rahsia Rasmi 1972<br>
                    This form is an official government document and subject to Official Secrets Act 1972
                </p>
            </div>
        </div>

        <!-- KEW.PS-3: Stock Card -->
        <div id="kewps3" class="form-container bg-white rounded-xl shadow-lg p-8 mb-8" style="display: none;">
            <div class="text-center py-12">
                <i class="fas fa-clipboard-check text-6xl text-blue-600 mb-4"></i>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">KEW.PS-3: Stock Card</h3>
                <p class="text-gray-600">Kad Stok / Stock Card</p>
                <p class="text-sm text-gray-500 mt-4">Individual item stock tracking card</p>
            </div>
        </div>

        <!-- KEW.PS-7: Issue Voucher -->
        <div id="kewps7" class="form-container bg-white rounded-xl shadow-lg p-8 mb-8" style="display: none;">
            <div class="text-center py-12">
                <i class="fas fa-upload text-6xl text-orange-600 mb-4"></i>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">KEW.PS-7: Issue Voucher</h3>
                <p class="text-gray-600">Baucar Keluaran Stor / Store Issue Voucher</p>
                <p class="text-sm text-gray-500 mt-4">Store issuance documentation</p>
            </div>
        </div>
    </main>

    <script>
        function showForm(formId) {
            document.querySelectorAll('.form-container').forEach(form => {
                form.style.display = 'none';
            });
            document.getElementById(formId).style.display = 'block';
            document.getElementById(formId).scrollIntoView({ behavior: 'smooth' });
        }

        // Auto-calculate totals
        document.addEventListener('input', function(e) {
            if (e.target.type === 'number') {
                const row = e.target.closest('tr');
                if (row && !row.classList.contains('bg-green-100')) {
                    const qty = parseFloat(row.querySelector('td:nth-child(5) input').value) || 0;
                    const price = parseFloat(row.querySelector('td:nth-child(6) input').value) || 0;
                    const totalInput = row.querySelector('td:nth-child(7) input');
                    if (totalInput) {
                        totalInput.value = (qty * price).toFixed(2);
                    }
                }
                calculateGrandTotal();
            }
        });

        function calculateGrandTotal() {
            let total = 0;
            document.querySelectorAll('tbody tr:not(.bg-green-100)').forEach(row => {
                const rowTotal = parseFloat(row.querySelector('td:nth-child(7) input')?.value) || 0;
                total += rowTotal;
            });
            const grandTotalInput = document.querySelector('.bg-green-100 input[type="number"]');
            if (grandTotalInput) {
                grandTotalInput.value = total.toFixed(2);
            }
        }

        window.onbeforeprint = function() {
            document.querySelectorAll('.form-container').forEach(form => {
                form.style.display = 'block';
            });
        };
    </script>
</body>
</html>
